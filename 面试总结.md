富飞乐 面试官 CTO
1.自我介绍
2.准考证打印出现分页（第二页怎么解决）
3.用户发起请求到springboot，最终呈现给用户的过程
4.list讲下，arraylist,你来设计怎么扩容,linkedlist，两者区别
5.rpc调用过程
6.红黑树，怎么遍历
7.设计5个线程跑完，再执行其他任务
8.怎么判断sql的执行好坏？索引类型有哪些？sql的执行过程
9.为什么出现事务的隔离级别，原理？什么是脏读
10.嵌套连接、hash连接？
11.jvm的内存模型


3.当一个请求进来的时候，就是通过ReactorHttpHandlerAdapter的apply()方法然后进入了了
HttpWebHandlerAdapter类的handle方法中执行了DispatcherHandler的handle方法
这个方法中，通过RequestMappingHandlerMapping找到对应的HandlerMethod(就是我们Controller中对应的方法)，
然后执行invokeHandler方法，然后通过反射执行了Controller中的方法，DispatcherHandler中的handlerResult方法，返回给外界

6.二叉查找树（BST）具备什么特性呢？
左子树上所有结点的值均小于或等于它的根结点的值。
右子树上所有结点的值均大于或等于它的根结点的值。
左、右子树也分别为二叉排序树。
红黑树是一种自平衡的二叉树
根节点是黑色。
节点是红色或黑色。
每个叶子节点都是黑色的空节点（NIL节点）
每个红色节点的两个子节点都是黑色
为了重新符合红黑树的规则（变色和旋转（左旋和右旋））
前序遍历、中序遍历和后序遍历。每种遍历的实现又有递归和迭代两种

8.使用explain分析sql语句执行效率
type：这列最重要，显示了连接使用了哪种类别,有无使用索引，是使用Explain命令分析性能瓶颈的关键项之一
唯一索引：在创建唯一索引时要不能给具有相同的索引值。
主键索引：在我们给一个字段设置主键的时候，它就会自动创建主键索引，用来确保每一个值都是唯一的。
聚集索引：我们在表中添加数据的顺序，与我们创建的索引键值相同，而且一个表中只能有一个聚集索引。
普通索引：它的结构主要以B+树和哈希索引为主，主要是对数据表中的数据进行精确查找。
全文索引：它的作用是搜索数据表中的字段是不是包含我们搜索的关键字，就像搜索引擎中的模糊查询。

![1616253838472](C:\Users\km\AppData\Roaming\Typora\typora-user-images\1616253838472.png)

隔离级别：
数据库系统必须具有隔离并发运行各个事务的能力，是它们之间相互不影响，避免了各种并发问题。一个事务与其他事务隔离的程度为隔离级别。（也就是相互之间影响的影响的程度导致隔离级别，影响程度越小，那么就说明隔离级别越大）。SQL标准中规定了多种事务的隔离级别，不同的隔离级别分别对应着不同的干扰程度，隔离级别越高，数据一致性就越好，但是并发性越弱。

读未提交（READ UNCOMMITTED）：允许事务A读取事务B未提交的修改。
读已提交（READ COMMITTED）：要求事务A只能读取事务B已经提交的修改。
可重复读（REPEATABLE READ）：确保事务A可以多次从一个字段中读取到相同的值，那么就是禁止其他事务在事务A还没有执行结束期间对这个字段的操作，新。
串行化（SERIALIZABLE）：为了保证事务A可以多次在一个表中读取到相同的行，在事务A执行期间，禁止其他事务对这个表进行增、删、改操作。可以避免任何的并发问题，但是性能降低
![1616254061536](C:\Users\km\AppData\Roaming\Typora\typora-user-images\1616254061536.png)

10.**嵌套连接**

 嵌套循环，顾名思义就是将一个表为出发点，将该表全部记录逐条去遍历另外一张表的记录，符合条件的就是写入结果集。 

哈希连接主要分为两个阶段：建立阶段（build phase)和探测阶段（probe phase) 

 选择一个表（一般情况下是较小的那个表，以减少建立哈希表的时间和空间），对其中每个元组上的连接属性（join attribute)采用哈希函数得到哈希值，从而建立一个哈希表。 

 对另一个表，扫描它的每一行并计算连接属性的哈希值，与bulid phase建立的哈希表对比，若有落在同一个bucket的，如果满足连接谓词（predicate)则连接成新的表。 